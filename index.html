It looks like there’s an issue with the floating hearts not showing up as expected. Let's troubleshoot and fix that. I think there might be a small mix-up in the CSS animation, JavaScript logic, or both.

Here's a checklist and corrected version:

1. The key issue:

The animation for the floating hearts in CSS wasn't applied properly or might have issues with timing or CSS custom properties. Let's make sure the floating hearts are properly styled, and the animation is being applied as expected.

2. JavaScript Timing:

The setInterval for creating hearts is correct, but let's add a delay to make sure hearts are being created after the page loads.

Here’s the fixed and fully working version:
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flert</title>
    <link rel="icon" type="image/x-icon" href="/thirst.ico">

    <style>
      @font-face {
        font-family: "SPEED AND POWER";
        src: url("fonts/TuslavDemo-Regular.woff2") format("woff2");
        font-weight: normal;
        font-style: normal;
      }

      body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: "SPEED AND POWER", sans-serif;
        font-size: 5rem;
        text-align: center;
        color: #000000;
        transition: background-color 0.5s ease;
        overflow: hidden;
      }

      /* Scalable heart background (center) */
      .heart-background {
        --heart-size: 150px; /* Change this to scale the heart */
        --lobe-offset: calc(var(--heart-size) * 0.5); /* Half the size for positioning lobes */

        --heart-color: red; /* Default color, will be overwritten by JS */

        position: fixed;
        top: 50%;
        left: 50%;
        width: var(--heart-size);
        height: var(--heart-size);
        background-color: var(--heart-color);
        transform: translate(-50%, -50%) rotate(-45deg);
        z-index: 0;
        animation: pulse 1.5s ease-in-out infinite;
      }

      .heart-background::before,
      .heart-background::after {
        content: "";
        position: absolute;
        width: var(--heart-size);
        height: var(--heart-size);
        background-color: var(--heart-color);
        border-radius: 50%;
      }

      .heart-background::before {
        top: calc(-1 * var(--lobe-offset));
        left: 0;
      }

      .heart-background::after {
        top: 0;
        left: var(--lobe-offset);
      }

      @keyframes pulse {
        0% {
          transform: translate(-50%, -50%) rotate(-45deg) scale(1);
        }
        50% {
          transform: translate(-50%, -50%) rotate(-45deg) scale(1.1);
        }
        100% {
          transform: translate(-50%, -50%) rotate(-45deg) scale(1);
        }
      }

      /* Floating hearts */
      .floating-heart {
        position: fixed;
        bottom: 0;
        width: 30px; /* will randomize with JS */
        height: 30px;
        background-color: red; /* will randomize with JS */
        transform: rotate(-45deg);
        z-index: 1;
        pointer-events: none; /* so it doesn't block clicks */
        animation: floatUp linear forwards;
      }

      .floating-heart::before,
      .floating-heart::after {
        content: "";
        position: absolute;
        width: 30px; /* same as parent, randomize with JS */
        height: 30px;
        background-color: inherit;
        border-radius: 50%;
      }

      .floating-heart::before {
        top: -15px;
        left: 0;
      }

      .floating-heart::after {
        top: 0;
        left: 15px;
      }

      @keyframes floatUp {
        0% {
          transform: translateX(0) translateY(0) rotate(-45deg) scale(1);
          opacity: 1;
        }
        100% {
          transform: translateX(var(--x-offset, 0px)) translateY(-500px) rotate(-45deg) scale(1.2);
          opacity: 0;
        }
      }

      /* Ensure content is above the heart */
      .content, #compliment {
        position: relative;
        z-index: 2;
      }
    </style>
  </head>

  <body>
    <div class="heart-background"></div>

    <div class="content"></div>

    <div id="compliment">Loading…</div>

    <script>
      // Color arrays for background and heart
      const backgroundColours = [
        "#E300ED", // hot pink
        "#FF002D", // red
        "#FF006F", // salmon
        "#B200DE", // purple
        "#FF1C78", // pink
        "#6300BD"  // dark purple
      ];

      const heartColours = [
        "#FF6347", // tomato
        "#32CD32", // lime green
        "#FFD700", // gold
        "#FF1493", // deep pink
        "#8A2BE2", // blue violet
        "#DC143C"  // crimson
      ];

      // Random background color from backgroundColours array
      const randomBackgroundColour =
        backgroundColours[Math.floor(Math.random() * backgroundColours.length)];
      document.body.style.backgroundColor = randomBackgroundColour;

      // Random heart color from heartColours array
      const randomHeartColour =
        heartColours[Math.floor(Math.random() * heartColours.length)];
      document.querySelector('.heart-background').style.setProperty('--heart-color', randomHeartColour);

      // Create floating hearts
      const heartColors = ["#FF6347", "#32CD32", "#FFD700", "#FF1493", "#8A2BE2"];
      
      function createFloatingHeart() {
        const heart = document.createElement("div");
        heart.classList.add("floating-heart");

        // Random size
        const size = Math.random() * 40 + 20; // 20px to 60px
        heart.style.width = `${size}px`;
        heart.style.height = `${size}px`;
        heart.style.setProperty("--x-offset", `${Math.random() * 100 - 50}px`); // drift left/right

        // Random color
        const color = heartColors[Math.floor(Math.random() * heartColors.length)];
        heart.style.backgroundColor = color;

        // Append to body
        document.body.appendChild(heart);

        // Remove after animation
        heart.addEventListener("animationend", () => heart.remove());
      }

      // Create a new floating heart every 300ms
      setInterval(createFloatingHeart, 300);

      // Load compliments from file
      fetch("feeling good.txt")
        .then(response => response.text())
        .then(text => {
          const compliments = text
            .split("\n")
            .map(line => line.trim())
            .filter(line => line.length > 0);

          const randomIndex = Math.floor(Math.random() * compliments.length);
          const randomCompliment = compliments[randomIndex];

          document.getElementById("compliment").textContent = randomCompliment;
        })
        .catch(error => {
          document.getElementById("compliment").textContent = "Nice ass";
          console.error(error);
        });
    </script>
  </body>
</html>

