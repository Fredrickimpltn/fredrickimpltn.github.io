Ah, I see! Thanks for clarifying the issues. The two squares (one rotated at 45 degrees and the other straight) are an unintended result from the way the positioning and transformations were applied to the heart.

Here’s the plan to fix this:

Ensure the Circles Change Color: The circles need to be individually styled to pick up the random color, just like the rest of the heart.

Fix the Bottom Shape: The bottom triangle needs to be a proper diamond shape that forms the pointed part of the heart, not a second square.

Correct the Circle Positioning: The circles must be positioned correctly within the heart and not appear within the square (the diamond part).

Solution:

I'll adjust the :before and :after pseudo-elements so they are clearly the top rounded lobes of the heart, each positioned above the bottom triangle.

The bottom triangle (diamond) will be fixed to form a proper heart shape without any distortions.

Let’s break this down:

Final Corrected Code:
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>flert</title>
    <link rel="icon" type="image/x-icon" href="/thirst.ico">
    <style>
      @font-face {
        font-family: "SPEED AND POWER";
        src: url("fonts/TuslavDemo-Regular.woff2") format("woff2");
        font-weight: normal;
        font-style: normal;
      }

      body {
        margin: 0;
        height: 100svh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: "SPEED AND POWER", sans-serif;
        font-size: 5rem;
        text-align: center;
        color: #000000;
        transition: background-color 0.5s ease;
        position: relative; /* Allow positioning of heart shape */
      }

      /* Heart Shape in the background */
      .heart-shape {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 400px; /* Increased width */
        height: 400px; /* Increased height */
        transform: translate(-50%, -50%); /* Center the shape */
        z-index: -1; /* Make sure the heart stays behind the content */
        opacity: 0.3; /* Light opacity for background effect */
      }

      /* Heart circles - top rounded part */
      .heart-shape:before,
      .heart-shape:after {
        content: "";
        position: absolute;
        width: 200px; /* Each circle size */
        height: 200px; /* Each circle size */
        background-color: #FF0000; /* Default red color */
        border-radius: 50%;
        top: 0;
      }

      /* Left circle */
      .heart-shape:before {
        left: 0;
      }

      /* Right circle */
      .heart-shape:after {
        left: 200px; /* Adjusted to place the second circle */
      }

      /* Bottom triangle (diamond shape) part of the heart */
      .heart-shape .bottom {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 400px; /* Same width as the heart shape */
        height: 400px; /* Same height as the heart shape */
        background-color: #FF0000;
        transform: translate(-50%, -50%) rotate(45deg); /* Diamond shape */
        z-index: -2; /* Ensure the triangle is at the bottom */
      }

      /* Random Heart Color */
      .heart-shape.random-color {
        background-color: var(--heart-color);
      }
    </style>
  </head>
  <body>
    <div class="heart-shape">
      <div class="bottom"></div> <!-- Bottom part of the heart -->
    </div> <!-- Heart shape in the background -->
    <div id="compliment">
      Loading…
    </div>

    <script>
      const happyColours = [
        "#E300ED", // hot pink
        "#FF002D", // sexy red
        "#FF006F", // kinky salmon
        "#B200DE", // devious purple
        "#FF1C78", // slutty pink
        "#6300BD"  // straight up whore purple
      ];

      const heartColours = [
        "#FF0000", // Red
        "#FF6347", // Tomato
        "#FF1493", // DeepPink
        "#FF4500", // OrangeRed
        "#FFD700"  // Gold
      ];

      const randomColour =
        happyColours[Math.floor(Math.random() * happyColours.length)];

      const randomHeartColour =
        heartColours[Math.floor(Math.random() * heartColours.length)];

      document.body.style.backgroundColor = randomColour;

      // Set the random heart color using CSS variable
      const heartShape = document.querySelector('.heart-shape');
      const bottomPart = document.querySelector('.bottom');
      const leftCircle = document.querySelector('.heart-shape:before');
      const rightCircle = document.querySelector('.heart-shape:after');

      document.documentElement.style.setProperty('--heart-color', randomHeartColour);

      // Change the heart color for the whole heart, including the bottom triangle
      heartShape.style.backgroundColor = randomHeartColour;
      bottomPart.style.backgroundColor = randomHeartColour;

      // Apply color to the circles
      leftCircle.style.backgroundColor = randomHeartColour;
      rightCircle.style.backgroundColor = randomHeartColour;

      fetch("feeling good.txt")
        .then(response => response.text())
        .then(text => {
          const compliments = text
            .split("\n")
            .map(line => line.trim())
            .filter(line => line.length > 0);

          const randomIndex = Math.floor(Math.random() * compliments.length);
          const randomCompliment = compliments[randomIndex];

          document.getElementById("compliment").textContent = randomCompliment;
        })
        .catch(error => {
          document.getElementById("compliment").textContent =
            "Nice ass";
          console.error(error);
        });
    </script>
  </body>
</html>
